
var waves = [ //format: id amount id amount ... id amount
	[ //Small village
	'1 5',
	'1 7',
	'1 10',
	'1 5 2 5',
	'2 7 1 7',
	'2 10 1 5',
	'2 10 1 10',
	'2 7 3 5 1 7',
	'2 10 3 7 1 7',
	'2 10 3 10 1 10',
	'2 12 3 12 1 12',
	'3 15 2 15 1 15',
	],
	[ //Spooky forest
	'1 15',
	'1 10 2 10',
	'2 10 3 7',
	'3 10 2 10 4 5',
	'2 20 4 10',
	'4 15 3 10 6 10',
	'3 20 6 15',
	'4 15 6 15',
	'3 15 4 15 5 10',
	'6 10 5 15 4 10',
	'5 20 4 15 6 15',
	'6 25 5 25',
	'4 17 5 17 6 17',
	'4 17 5 17 6 15 3 15',
	'6 17 5 17 6 17 3 20 4 20',
	],
	[ //Swamp
	'6 5 4 5',
	'7 5 6 5',
	'7 10 6 5',
	'7 10 6 5 4 5',
	'8 5 6 10',
	'8 10 6 10',
	'8 5 7 15',
	'8 10 7 15 6 5',
	'8 10 7 25',
	'8 15 7 25 6 10',
	],
	[ //Dangerous dungeon
	'7 10 8 5',
	'7 15 8 10',
	'8 10 7 10',
	'8 10 9 7 7 10',
	'8 10 9 15 7 5',
	'7 10 9 15 8 5',
	'8 10 7 10 9 10',
	'8 10 7 15 9 10',
	'8 15 7 15 9 15',
	'9 15 7 20 10 1',
	'9 20 7 20 8 15',
	'9 15 10 2 8 17',
	'9 20 7 20 10 2',
	'9 20 7 20 8 20',
	'7 20 10 5 8 20',
	],
	[ //Mountain village
	'9 20',
	'9 20 11 5',
	'11 20 9 10',
	'11 20 10 1',
	'10 1 9 20 11 15',
	'9 15 12 15 11 15',
	'9 20 12 10 11 15',
	'10 5 12 10 11 20 13 15',
	'11 10 12 15 13 20 10 5',
	'11 20 12 15 13 20 10 7',
	],
	[ //Mountain path
	'12 2 11 5',
	'12 5 11 5',
	'12 5 11 5 13 10',
	'14 10 13 10 12 5',
	'14 15 13 20',
	'14 20 13 20 12 5',
	'14 20 15 10 12 10',
	'14 20 15 10 12 15',
	'14 20 15 20 12 15',
	'14 25 15 25 13 20',
	],
	[ //Coastal road
	'15 10',
	'15 10 16 5',
	'16 10 15 15',
	'16 15 15 15',
	'16 20 15 20',
	'16 25 17 20',
	'16 25 17 20 15 5',
	'16 25 17 25 15 10',
	'16 30 17 25 15 15',
	'16 30 17 30 15 20',
	],
	[ //Abandoned road
	'17 10',
	'17 10 15 5',
	'17 10 15 10',
	'17 15 15 10 18 5',
	'17 20 15 10 18 10',
	'17 20 18 20 15 10',
	'17 30 18 30 15 20',
	],
	[ //Bridge fight
	'18 10 19 2',
	'18 20 19 5',
	'18 20 19 5 20 5',
	'18 25 20 15',
	'18 25 20 15 19 5',
	'18 25 20 15 19 5 21 10',
	'18 25 21 20',
	'18 25 21 20 19 10 20 15',
	'21 20 18 10 19 20',
	'21 20 18 15 19 15 20 15',
	'21 25 18 20 19 20 20 15',
	'21 25 18 25 19 25 20 25',
	],
	[ //Suburb
	'21 15 22 10',
	'21 15 22 15',
	'21 15 22 15 23 5',
	'21 15 22 15 23 20',
	'21 20 22 20 23 25',
	'21 5 22 5',
	'21 30 22 30 23 30',
	'21 5 22 5',
	'24 15 22 25 23 30 21 20',
	'21 5 22 5',
	'21 25 23 25 22 30 20 25',
	'21 5 22 5',
	'21 20 23 20 22 30 20 20 24 15',
	'21 5 22 5',
	'21 25 24 15 23 25 22 25 20 25',
	],
	[ //Burned field
	'24 2 23 10',
	'23 20',
	'23 20 25 5',
	'23 20 25 15',
	'23 25 25 15',
	'23 25 25 15 24 15',
	'23 25 25 15 21 25',
	'23 25 25 25 21 25',
	'23 25 24 25 25 25 21 25',
	'23 30 24 35 25 30 21 30',
	'23 5 25 5',
	'23 30 24 30 25 30 21 30',
	'23 5 25 5',
	'23 30 24 35 25 30 21 30',
	'23 5 25 5',
	'23 40 24 45 25 40 21 40',
	],
	[ //The gates
	'25 20',
	'25 25 26 1',
	'25 25 26 5 24 5',
	'25 25 26 15 24 5',
	'25 25 26 20 24 10',
	'25 25 26 20 27 10',
	'25 25 26 20 27 15',
	'26 30 27 20 28 2',
	'26 35 28 5 27 20',
	'25 5 26 5',
	'26 40 28 7 27 20',
	'25 5 26 5',
	'26 45 28 7 27 20',
	'25 5 26 5',
	'26 40 28 12 27 30',
	],
	[ //Castle defence
	'28 2 27 5',
	'28 5 27 7',
	'28 5 27 10',
	'26 10 28 5 27 10',
	'28 5 27 10 29 1',
	'28 5 27 15',
	'28 7 29 1 27 15',
	'28 7 27 15',
	'29 2 27 15 28 10',
	'29 3 28 10 30 1 27 20',
	],
]

var waveStartTact = 480

function startWaveFunc() {
	if (startWave == 1 || currentWave == waves[currentLevel].length)
			return	
	startWave = 1
	if (currentWave != 0 && creatingIndex == 0) {
		var profit = Math.round(waveStartTact/8)
		money += profit
		tempPlayer.statistics.money += profit
	}
	waveStartTact = 480
}

function createWave() {
	if (startWave) {
		if (currentWave == waves[currentLevel].length) { //last wave
			startWave = 0
			return false
		}
		var strings = waves[currentLevel][currentWave].split(' ')
		if (creatingId == 0 && creatingIndex < strings.length) { //parsing
			creatingId = parseInt(strings[creatingIndex])
			creatingNumber = parseInt(strings[creatingIndex + 1])
			totalEnemies += creatingNumber
			creatingIndex += 2
		}
		if (tact%8 == 0 && creatingNumber > 0) { //creating
			creatingNumber--
			createEnemy(creatingId, 0)
		}
		if (creatingNumber == 0) {//create new type
			creatingId = 0
			if (creatingIndex >= strings.length) { //wave completed
				creatingIndex = startWave = 0
				currentWave++
				return true
			}
		}
	} else
		waveStartTact--
}
